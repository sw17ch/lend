test: lend.o test.c
	cc -Wall -g -o $@ $^

lend.o: lend.c
	cc -Wall -g -c -o $@ $^

gnaw: test
	bash -c 'while ./test $$(($$RANDOM * $$RANDOM)) $$((0x100000)) 1000000; do :; done'

wipe:
	rm *.o test

.PHONY: wipe gnaw
